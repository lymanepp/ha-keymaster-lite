## WARNING ##
# This file is automatically generated, any changes
# will be overwritten.

##################################################
################  COMMON ENTITIES  ###############
##################################################

###############  input_boolean:  #################
input_boolean:
  LOCKNAME_reset_lock:
    name: CASE_LOCK_NAME reset lock

###################  script:  ####################
script:
  keymaster_LOCKNAME_reset_lock:
    sequence:
      - service: script.keymaster_LOCKNAME_manual_notify
        data_template:
          title: "reset"
          message: "LOCKNAME"

  keymaster_LOCKNAME_reset_codeslot:
    mode: parallel
    fields:
      code_slot:
        description: The code slot to reset
        example: 1
    sequence:
      - service: input_boolean.turn_off
        data_template:
          entity_id: "input_boolean.enabled_LOCKNAME_{{ code_slot | string }}"
      - service: input_text.set_value
        data_template:
          entity_id: "input_text.LOCKNAME_name_{{ code_slot | string }}"
          value: ""
      - service: input_text.set_value
        data_template:
          entity_id: "input_text.LOCKNAME_pin_{{ code_slot | string }}"
          value: ""
      - service: input_boolean.turn_off
        data_template:
          entity_id: "input_boolean.reset_codeslot_LOCKNAME_{{ code_slot | string }}"

###################  automation:  ####################
automation:
  - alias: keymaster_CASE_LOCK_NAME Reset Code Slot
    id: keymaster_CASE_LOCK_NAME Reset Code Slot
    trigger:
      entity_id: INPUT_RESET_CODE_SLOT_HEADER
      platform: state
      to: "on"
    action:
      - service: script.keymaster_LOCKNAME_reset_codeslot
        data_template:
          code_slot: "{{ trigger.entity_id.split('_')[-1] }}"

###############  input_text:  #################
input_text:
  LOCKNAME_lockname:
    initial: LOCKNAME
    name: "Lock Name"

  ###############  PARENT entities  #################
  LOCKNAME_PARENTLOCK_parent:
    initial: PARENTLOCK
    name: "Parent lock"
